import{r as t,j as e}from"./index-DhJjWnUT.js";import{a as _,g as P}from"./apiConfig-DGXd-3z3.js";import{u as j,M as b,P as y}from"./Pagination-NBgXr_KD.js";import"./placeHolderImg-DHYkNt_L.js";import"./clsx-B-dksMZM.js";const M="_homeTitle_iwvt_1",N="_formContainer_iwvt_6",C="_input_iwvt_13",w="_button_iwvt_27",o={homeTitle:M,formContainer:N,input:C,button:w},$=()=>{const[n,u]=t.useState(""),[r,l]=t.useState(()=>sessionStorage.getItem("query")||""),[c,h]=t.useState([]),[m,g]=t.useState(0);let p=JSON.parse(sessionStorage.getItem("page"))||1;const{curPage:i,handleNextPage:v,handlePrevPage:S,setCurPage:f}=j(p,m),x=`https://api.themoviedb.org/3/search/movie?language=en-US&query=${r}&page=${i}`;t.useEffect(()=>{(async()=>{if(r)try{const a=await _.get(x,P);h(a.data.results),g(a.data.total_pages)}catch(a){console.log(a)}})()},[r,i]);const d=s=>{s.preventDefault(),sessionStorage.setItem("query",n),l(n),f(1)};return e.jsxs("section",{className:"section",children:[e.jsx("h1",{className:o.homeTitle,children:"Search Movies"}),e.jsxs("form",{onSubmit:d,className:o.formContainer,children:[e.jsx("label",{htmlFor:"movieSearch"}),e.jsx("input",{type:"text",id:"movieSearch",name:"movieSearch",value:n,onChange:s=>u(s.target.value),placeholder:"Search for a movie...",className:o.input}),e.jsx("button",{type:"submit",className:o.button,children:"Search"})," "]}),e.jsx(b,{movies:c}),c.length!=0&&e.jsx(y,{curPage:i,handleNextPage:v,handlePrevPage:S,ttlPages:m})]})};export{$ as default};
//# sourceMappingURL=MoviesPage-BCwakMLr.js.map
