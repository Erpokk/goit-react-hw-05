{"version":3,"file":"HomePage-uAiBLu5d.js","sources":["../../pages/HomePage/HomePage.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport getApiOptions from '../../src/utils/apiConfig.js'\n\nimport usePagination from \"../../src/hooks/usePagination\";\n\nimport css from './HomePage.module.css'\n\nimport MovieList from \"../../src/components/MovieList/MovieList\";\nimport Pagination from \"../../src/components/Pagination/Pagination\";\n\nconst HomePage = () => {\n    const [movies, setMovies] = useState([]);\n    const [ttlPages, setTtlPage] = useState(0)\n\n\n    const savedPage = JSON.parse(sessionStorage.getItem('page')) || 1\n    \n    const { curPage, handleNextPage, handlePrevPage } = usePagination(savedPage, ttlPages);\n\n    const url = `https://api.themoviedb.org/3/trending/movie/day?language=en-US&page=${curPage}`;\n\n    useEffect(() => {   \n    const fetchMovies = async () => {\n        try {\n            const response = await axios.get(url, getApiOptions);\n            setMovies(response.data.results); \n            setTtlPage(response.data.total_pages)\n        } catch (error) {\n            console.error(error); \n        }\n    };\n    \n    fetchMovies(); \n    }, [curPage]);\n    \n    return (\n        <section className=\"section\">\n            <h1 className={css.homeTitle}>Trending Movies</h1>\n            <MovieList movies={movies}/>           \n            <Pagination\n                curPage={curPage}\n                handleNextPage={handleNextPage}\n                handlePrevPage={handlePrevPage}\n                ttlPages={ttlPages}\n            />\n        </section>\n    )\n}\n\nexport default HomePage;"],"names":["HomePage","movies","setMovies","useState","ttlPages","setTtlPage","savedPage","curPage","handleNextPage","handlePrevPage","usePagination","url","useEffect","response","axios","getApiOptions","error","jsxs","jsx","css","MovieList","Pagination"],"mappings":"0QAWMA,EAAW,IAAM,CACnB,KAAM,CAACC,EAAQC,CAAS,EAAIC,EAAA,SAAS,CAAE,CAAA,EACjC,CAACC,EAAUC,CAAU,EAAIF,WAAS,CAAC,EAGnCG,EAAY,KAAK,MAAM,eAAe,QAAQ,MAAM,CAAC,GAAK,EAE1D,CAAE,QAAAC,EAAS,eAAAC,EAAgB,eAAAC,CAAmB,EAAAC,EAAcJ,EAAWF,CAAQ,EAE/EO,EAAM,uEAAuEJ,CAAO,GAE1FK,OAAAA,EAAAA,UAAU,IAAM,EACI,SAAY,CACxB,GAAA,CACA,MAAMC,EAAW,MAAMC,EAAM,IAAIH,EAAKI,CAAa,EACzCb,EAAAW,EAAS,KAAK,OAAO,EACpBR,EAAAQ,EAAS,KAAK,WAAW,QAC/BG,EAAO,CACZ,QAAQ,MAAMA,CAAK,CACvB,CAAA,IAGQ,EACT,CAACT,CAAO,CAAC,EAGRU,EAAA,KAAC,UAAQ,CAAA,UAAU,UACf,SAAA,CAAAC,EAAA,IAAC,KAAG,CAAA,UAAWC,EAAI,UAAW,SAAe,kBAAA,EAC7CD,MAACE,GAAU,OAAAnB,EAAe,EAC1BiB,EAAA,IAACG,EAAA,CACG,QAAAd,EACA,eAAAC,EACA,eAAAC,EACA,SAAAL,CAAA,CACJ,CACJ,CAAA,CAAA,CAER"}