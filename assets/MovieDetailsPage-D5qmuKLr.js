import{R as c,j as s,L as N,a as P,r as u,u as k,N as b,O as L}from"./index-DhJjWnUT.js";import{a as D,g as E}from"./apiConfig-DGXd-3z3.js";import{p as S}from"./placeHolderImg-DHYkNt_L.js";const R="_ttl_duf9w_1",T="_subTtl_duf9w_7",C="_movieDetails_duf9w_11",I="_infoList_duf9w_18",$="_link_duf9w_25",z="_addDetails_duf9w_48",n={ttl:R,subTtl:T,movieDetails:C,infoList:I,link:$,addDetails:z};var _={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},w=c.createContext&&c.createContext(_),M=["attr","size","title"];function B(e,t){if(e==null)return{};var r=H(e,t),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)i=l[a],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function H(e,t){if(e==null)return{};var r={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},f.apply(this,arguments)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,i)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(i){A(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function A(e,t,r){return t=W(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W(e){var t=G(e,"string");return typeof t=="symbol"?t:t+""}function G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y(e){return e&&e.map((t,r)=>c.createElement(t.tag,h({key:r},t.attr),y(t.child)))}function K(e){return t=>c.createElement(U,f({attr:h({},e.attr)},t),y(e.child))}function U(e){var t=r=>{var{attr:i,size:a,title:l}=e,d=B(e,M),v=a||r.size||"1em",o;return r.className&&(o=r.className),e.className&&(o=(o?o+" ":"")+e.className),c.createElement("svg",f({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,d,{className:o,style:h(h({color:e.color||r.color},r.style),e.style),height:v,width:v,xmlns:"http://www.w3.org/2000/svg"}),l&&c.createElement("title",null,l),e.children)};return w!==void 0?c.createElement(w.Consumer,null,r=>t(r)):t(_)}function V(e){return K({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(e)}const q="_link_1tg05_1",F={link:q},J=({to:e,children:t})=>s.jsxs(N,{to:e,className:F.link,children:[s.jsx(V,{size:"24"}),t]}),Z=()=>{const{movieId:e}=P(),[t,r]=u.useState(null),[i,a]=u.useState(!0),l=`https://api.themoviedb.org/3/movie/${e}`,d="https://image.tmdb.org/t/p/",o=k().state??"/movies",j=u.useRef(null),g=u.useRef(null);u.useEffect(()=>{(async()=>{a(!0);try{const p=await D.get(l,E);r(p.data)}catch(p){console.error(p)}finally{a(!1)}})()},[l]);const x=m=>{m.current&&setTimeout(()=>{m.current.scrollIntoView({behavior:"smooth",block:"start"})},250)};return i?s.jsx("div",{children:"Loading movie details..."}):t?s.jsx("section",{className:"section",children:s.jsxs("div",{className:"container",children:[s.jsx("h1",{className:n.ttl,children:t.title}),s.jsx(J,{to:o,children:"Back to movies"}),s.jsxs("div",{className:n.movieDetails,children:[s.jsxs("picture",{children:[s.jsx("source",{media:"(max-width: 768px)",srcSet:`${d}w300${t.poster_path}`}),s.jsx("source",{media:"(min-width: 769px)",srcSet:`${d}w400${t.poster_path}`}),s.jsx("img",{className:n.image,src:t.poster_path?`${d}w500${t.poster_path}`:S,alt:t.title||"Movie Poster"})]}),s.jsxs("div",{className:n.addDetails,children:[s.jsxs("div",{children:[s.jsx("h2",{className:n.subTtl,children:"Description"}),s.jsx("p",{children:t.overview})]}),s.jsxs("div",{children:[s.jsx("h2",{className:n.subTtl,children:"Genres"}),s.jsx("p",{children:t.genres&&t.genres.length>0?t.genres.map(m=>m.name).join(", "):"No genres available"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:n.subTtl,children:"Popularity"}),s.jsx("p",{children:t.popularity})]}),s.jsxs("div",{children:[s.jsx("h2",{className:n.subTtl,children:"Rating"}),s.jsx("p",{children:t.vote_average})]})]})]}),s.jsxs("ul",{className:n.infoList,children:[s.jsx("li",{className:n.infoItem,ref:j,children:s.jsx(b,{to:"cast",className:n.link,onClick:()=>x(j),children:"Actors"})}),s.jsx("li",{className:n.infoItem,ref:g,children:s.jsx(b,{to:"reviews",className:n.link,onClick:()=>x(g),children:"Reviews"})})]}),s.jsx(u.Suspense,{fallback:s.jsx("div",{children:"Loading subpage..."}),children:s.jsx(L,{})})]})}):s.jsx("div",{children:"No movie found."})};export{Z as default};
//# sourceMappingURL=MovieDetailsPage-D5qmuKLr.js.map
